goog.provide('jelli.hackday_environ_manager.db');
jelli.hackday_environ_manager.db.default_version_data = new cljs.core.PersistentArrayMap(null, 1, ["dev",new cljs.core.PersistentArrayMap(null, 1, ["AdBuilder","?"], null)], null);
jelli.hackday_environ_manager.db.default_project_data = new cljs.core.PersistentArrayMap(null, 8, [new cljs.core.Keyword(null,"ad-builder","ad-builder",2077920065),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"backend-version-endpoint","backend-version-endpoint",-996216397),"api/v1/system/info",new cljs.core.Keyword(null,"default-link-pattern","default-link-pattern",-1751468180),"https://spearmint.ENVIRONMENT.jelli.com/",new cljs.core.Keyword(null,"link-overrides","link-overrides",-750154088),new cljs.core.PersistentArrayMap(null, 1, ["prod","https://spearmint.jelli.com/"], null),new cljs.core.Keyword(null,"friendly-name","friendly-name",44432795),"AdBuilder",new cljs.core.Keyword(null,"env-dashboard?","env-dashboard?",-989913730),true], null),new cljs.core.Keyword(null,"radio-spot","radio-spot",-1695688590),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"backend-version-endpoint","backend-version-endpoint",-996216397),"api/system/version",new cljs.core.Keyword(null,"default-link-pattern","default-link-pattern",-1751468180),"https://radiospot.ENVIRONMENT.jelli.com/",new cljs.core.Keyword(null,"link-overrides","link-overrides",-750154088),new cljs.core.PersistentArrayMap(null, 1, ["prod","https://radiospot.jelli.com/"], null),new cljs.core.Keyword(null,"friendly-name","friendly-name",44432795),"RadioSpot",new cljs.core.Keyword(null,"env-dashboard?","env-dashboard?",-989913730),true], null),new cljs.core.Keyword(null,"accounts","accounts",-935308676),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"backend-version-endpoint","backend-version-endpoint",-996216397),"api/system/version",new cljs.core.Keyword(null,"default-link-pattern","default-link-pattern",-1751468180),"https://accounts.ENVIRONMENT.jelli.com/",new cljs.core.Keyword(null,"link-overrides","link-overrides",-750154088),new cljs.core.PersistentArrayMap(null, 1, ["prod","https://accounts.jelli.com/"], null),new cljs.core.Keyword(null,"friendly-name","friendly-name",44432795),"Enterprise Apps",new cljs.core.Keyword(null,"env-dashboard?","env-dashboard?",-989913730),true], null),new cljs.core.Keyword(null,"mcc","mcc",977948268),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"default-link-pattern","default-link-pattern",-1751468180),"https://mcc.ENVIRONMENT.jelli.com/",new cljs.core.Keyword(null,"link-overrides","link-overrides",-750154088),new cljs.core.PersistentArrayMap(null, 1, ["prod","https://mcc.jelli.com/"], null),new cljs.core.Keyword(null,"env-dashboard?","env-dashboard?",-989913730),true,new cljs.core.Keyword(null,"friendly-name","friendly-name",44432795),"MCC"], null),new cljs.core.Keyword(null,"admin2","admin2",-1980098633),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"default-link-pattern","default-link-pattern",-1751468180),"https://admin.ENVIRONMENT.jelli.com/",new cljs.core.Keyword(null,"link-overrides","link-overrides",-750154088),new cljs.core.PersistentArrayMap(null, 1, ["prod","https://admin.jelli.com/"], null),new cljs.core.Keyword(null,"landing-endpoyt","landing-endpoyt",236548785),"admin2",new cljs.core.Keyword(null,"env-dashboard?","env-dashboard?",-989913730),true,new cljs.core.Keyword(null,"friendly-name","friendly-name",44432795),"Admin2"], null),new cljs.core.Keyword(null,"phoenix","phoenix",282292044),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword("deployment","non-play-job","deployment/non-play-job",-216020288),"https://jenkins-1.ci.jelli.net/view/juggernaut-be/job/Phoenix%20Deploy/",new cljs.core.Keyword(null,"default-link-pattern","default-link-pattern",-1751468180),"https://api.ENVIRONMENT.jelli.com/",new cljs.core.Keyword(null,"link-overrides","link-overrides",-750154088),new cljs.core.PersistentArrayMap(null, 1, ["prod","https://api.jelli.com/"], null),new cljs.core.Keyword(null,"landing-endpoint","landing-endpoint",600640415),"api/swagger/",new cljs.core.Keyword(null,"friendly-name","friendly-name",44432795),"Phoenix",new cljs.core.Keyword(null,"backend-version-endpoint","backend-version-endpoint",-996216397),"api/system/version"], null),new cljs.core.Keyword(null,"spearmint","spearmint",-1432392848),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword("deployment","non-play-job","deployment/non-play-job",-216020288),"https://jenkins-1.ci.jelli.net/view/All/job/Spearmint%20Deploy/",new cljs.core.Keyword(null,"default-link-pattern","default-link-pattern",-1751468180),"https://spearmint.ENVIRONMENT.jelli.com/",new cljs.core.Keyword(null,"link-overrides","link-overrides",-750154088),new cljs.core.PersistentArrayMap(null, 1, ["prod","https://spearmint.jelli.com/"], null),new cljs.core.Keyword(null,"landing-endpoint","landing-endpoint",600640415),"api/swagger",new cljs.core.Keyword(null,"friendly-name","friendly-name",44432795),"Spearmint",new cljs.core.Keyword(null,"backend-version-endpoint","backend-version-endpoint",-996216397),"api/v1/system/info"], null),new cljs.core.Keyword(null,"dsr","dsr",1204641791),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"default-link-pattern","default-link-pattern",-1751468180),"http://ENVIRONMENT-xapi.play.us-west-2.jelli.net/dsr/",new cljs.core.Keyword(null,"link-overrides","link-overrides",-750154088),new cljs.core.PersistentArrayMap(null, 4, ["prod","https://xapi.jelli.com/dsr/","dev","https://xapi.dev.jelli.com/dsr/","stage","https://xapi.stage.jelli.com/dsr/","int","https://xapi.int.jelli.com/dsr/"], null),new cljs.core.Keyword(null,"landing-endpoint","landing-endpoint",600640415),"",new cljs.core.Keyword(null,"env-dashboard?","env-dashboard?",-989913730),true,new cljs.core.Keyword(null,"microservice-name","microservice-name",-818687414),"ms-data-service-reader",new cljs.core.Keyword(null,"friendly-name","friendly-name",44432795),"Data Service Reader"], null)], null);
jelli.hackday_environ_manager.db.project_field_defs = new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"friendly-name","friendly-name",44432795),new cljs.core.Keyword(null,"name","name",1843675177),"Display Name",new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword("fields","string","fields/string",-180388363)], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"env-dashboard?","env-dashboard?",-989913730),new cljs.core.Keyword(null,"name","name",1843675177),"Display on Environment Dashboard?",new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword("fields","bool","fields/bool",35512834)], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"default-link-pattern","default-link-pattern",-1751468180),new cljs.core.Keyword(null,"name","name",1843675177),"Default Link Pattern",new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword("fields","env-url","fields/env-url",-646618744)], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"link-overrides","link-overrides",-750154088),new cljs.core.Keyword(null,"name","name",1843675177),"Link Overrides",new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword("fields","env-url-map","fields/env-url-map",1658042647)], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"backend-version-endpoint","backend-version-endpoint",-996216397),new cljs.core.Keyword(null,"name","name",1843675177),"(Backend) Version Endpoint",new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword("fields","string","fields/string",-180388363)], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"landing-endpoint","landing-endpoint",600640415),new cljs.core.Keyword(null,"name","name",1843675177),"Landing Endpoint",new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword("fields","string","fields/string",-180388363)], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword("deployment","non-play-job","deployment/non-play-job",-216020288),new cljs.core.Keyword(null,"name","name",1843675177),"Jenkins Job for non-microservice deploys (non-play)",new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword("fields","url","fields/url",1283290255)], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"microservice-name","microservice-name",-818687414),new cljs.core.Keyword(null,"name","name",1843675177),"Microservice name as defined in ms-config-store",new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword("fields","string","fields/string",-180388363)], null)], null);
jelli.hackday_environ_manager.db.default_db = new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"name","name",1843675177),"re-frame",new cljs.core.Keyword(null,"project-fields","project-fields",1398247541),jelli.hackday_environ_manager.db.project_field_defs,new cljs.core.Keyword(null,"environments","environments",-1203608657),cljs.core.concat.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"key","key",-1516042587),"dev",new cljs.core.Keyword(null,"friendly-name","friendly-name",44432795),"Dev"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"key","key",-1516042587),"stage",new cljs.core.Keyword(null,"friendly-name","friendly-name",44432795),"Staging"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"key","key",-1516042587),"prod",new cljs.core.Keyword(null,"friendly-name","friendly-name",44432795),"Production"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"key","key",-1516042587),"int",new cljs.core.Keyword(null,"friendly-name","friendly-name",44432795),"Integration"], null)], null),cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__63056_SHARP_){
return cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"friendly-name","friendly-name",44432795),new cljs.core.Keyword(null,"playground?","playground?",-1754037124)],[["play",cljs.core.str.cljs$core$IFn$_invoke$arity$1(p1__63056_SHARP_)].join(''),["Play ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(p1__63056_SHARP_)].join(''),true]);
}),cljs.core.range.cljs$core$IFn$_invoke$arity$2((1),(10)))),new cljs.core.Keyword(null,"techops-links","techops-links",1679511575),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"monitoring-confluence","monitoring-confluence",1777128169),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"link","link",-1769163468),"https://gojelli.atlassian.net/wiki/spaces/TO/pages/1477050369/Tools",new cljs.core.Keyword(null,"friendly-name","friendly-name",44432795),"Monitoring Tools",new cljs.core.Keyword(null,"description","description",-1428560544),"Confluence page with links and credential explanations for many tools"], null),new cljs.core.Keyword(null,"redash","redash",-190174204),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"link","link",-1769163468),"https://redash.jelli.net/queries",new cljs.core.Keyword(null,"friendly-name","friendly-name",44432795),"Redash Queries",new cljs.core.Keyword(null,"description","description",-1428560544),"Dashboardable and alertable SQL access"], null),new cljs.core.Keyword(null,"jenkins","jenkins",-2086574534),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"link","link",-1769163468),"https://jenkins-1.ci.jelli.net/view/juggernaut-be/",new cljs.core.Keyword(null,"friendly-name","friendly-name",44432795),"Jenkins",new cljs.core.Keyword(null,"description","description",-1428560544),"Continuous Integration and Deployment"], null),new cljs.core.Keyword(null,"ssh-config","ssh-config",-1104989549),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"link","link",-1769163468),"https://gojelli.atlassian.net/wiki/spaces/DEV/pages/486637760/SSH+Config",new cljs.core.Keyword(null,"friendly-name","friendly-name",44432795),"SSH Config",new cljs.core.Keyword(null,"description","description",-1428560544),"Shared SSH Config from confluence, see VPC Architecture link inside for proxy settings"], null),new cljs.core.Keyword(null,"playlego","playlego",-2026914459),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"link","link",-1769163468),"https://playlego.jelli.net/",new cljs.core.Keyword(null,"friendly-name","friendly-name",44432795),"Playground Jenkins",new cljs.core.Keyword(null,"description","description",-1428560544),"A bunch of jenkins jobs for managing play environments",new cljs.core.Keyword(null,"playground-only?","playground-only?",1856996799),true], null)], null),new cljs.core.Keyword(null,"project-data","project-data",-1812708430),cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,"version-data","version-data",-320496904),jelli.hackday_environ_manager.db.default_version_data,new cljs.core.Keyword("env-dashboard","current-environment","env-dashboard/current-environment",1586864754),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"key","key",-1516042587),"dev",new cljs.core.Keyword(null,"friendly-name","friendly-name",44432795),"Dev"], null)], null);
jelli.hackday_environ_manager.db.deployable_projects = (function jelli$hackday_environ_manager$db$deployable_projects(project_data){
return medley.core.filter_vals((function (p1__63057_SHARP_){
var or__4212__auto__ = new cljs.core.Keyword(null,"microservice-name","microservice-name",-818687414).cljs$core$IFn$_invoke$arity$1(p1__63057_SHARP_);
if(cljs.core.truth_(or__4212__auto__)){
return or__4212__auto__;
} else {
var or__4212__auto____$1 = new cljs.core.Keyword("deployment","non-play-job","deployment/non-play-job",-216020288).cljs$core$IFn$_invoke$arity$1(p1__63057_SHARP_);
if(cljs.core.truth_(or__4212__auto____$1)){
return or__4212__auto____$1;
} else {
return new cljs.core.Keyword("deployment","play-job","deployment/play-job",-297445111).cljs$core$IFn$_invoke$arity$1(p1__63057_SHARP_);
}
}
}),project_data);
});
jelli.hackday_environ_manager.db.get_link = (function jelli$hackday_environ_manager$db$get_link(env_key,p__63058){
var map__63059 = p__63058;
var map__63059__$1 = cljs.core.__destructure_map(map__63059);
var default_link_pattern = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__63059__$1,new cljs.core.Keyword(null,"default-link-pattern","default-link-pattern",-1751468180));
var link_overrides = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__63059__$1,new cljs.core.Keyword(null,"link-overrides","link-overrides",-750154088));
var or__4212__auto__ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(link_overrides,env_key);
if(cljs.core.truth_(or__4212__auto__)){
return or__4212__auto__;
} else {
return clojure.string.replace((function (){var or__4212__auto____$1 = default_link_pattern;
if(cljs.core.truth_(or__4212__auto____$1)){
return or__4212__auto____$1;
} else {
return "";
}
})(),/ENVIRONMENT/,env_key);
}
});
jelli.hackday_environ_manager.db.__GT_env_links = (function jelli$hackday_environ_manager$db$__GT_env_links(p__63060){
var map__63061 = p__63060;
var map__63061__$1 = cljs.core.__destructure_map(map__63061);
var environment = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__63061__$1,new cljs.core.Keyword(null,"environment","environment",-666037640));
var project_data = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__63061__$1,new cljs.core.Keyword(null,"project-data","project-data",-1812708430));
var env_key = new cljs.core.Keyword(null,"key","key",-1516042587).cljs$core$IFn$_invoke$arity$1(environment);
return medley.core.map_vals.cljs$core$IFn$_invoke$arity$2(cljs.core.partial.cljs$core$IFn$_invoke$arity$2(jelli.hackday_environ_manager.db.get_link,env_key),project_data);
});
jelli.hackday_environ_manager.db.links__GT_endpoints = (function jelli$hackday_environ_manager$db$links__GT_endpoints(links,project_data,endpoint_key){
return medley.core.filter_vals(cljs.core.some_QMARK_,medley.core.map_kv_vals((function (key,val){
var temp__5753__auto__ = cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(project_data,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [key,endpoint_key], null));
if(cljs.core.truth_(temp__5753__auto__)){
var endpoint = temp__5753__auto__;
return [cljs.core.str.cljs$core$IFn$_invoke$arity$1(val),cljs.core.str.cljs$core$IFn$_invoke$arity$1(endpoint)].join('');
} else {
return null;
}
}),links));
});
jelli.hackday_environ_manager.db.links__GT_version_endpoints = (function jelli$hackday_environ_manager$db$links__GT_version_endpoints(links,project_data){
return jelli.hackday_environ_manager.db.links__GT_endpoints(links,project_data,new cljs.core.Keyword(null,"backend-version-endpoint","backend-version-endpoint",-996216397));
});

//# sourceMappingURL=jelli.hackday_environ_manager.db.js.map
